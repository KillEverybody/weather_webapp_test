(function(t){function e(e){for(var n,r,c=e[0],l=e[1],u=e[2],s=0,d=[];s<c.length;s++)r=c[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);h&&h(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},r={app:0},i={app:0},o=[];function c(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-04f13b21":"8bea84c7"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-04f13b21":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-04f13b21":"319210ff"}[t]+".css",i=l.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===n||s===i))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],s=u.getAttribute("data-href");if(s===n||s===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var n=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[t],h.parentNode.removeChild(h),a(o)},h.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){r[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=o);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=c(t);var d=new Error;u=function(e){s.onerror=s.onload=null,clearTimeout(h);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}i[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var h=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0457":function(t,e,a){"use strict";a("def6")},"16b6":function(t,e,a){"use strict";a("2210")},2210:function(t,e,a){},"40e5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],c={name:"App"},l=c,u=a("2877"),s=Object(u["a"])(l,i,o,!1,null,null,null),d=s.exports,h=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[[a("wtp-top-bar",{attrs:{"current-city":t.weatherCity},on:{onResetWeather:t.getData}}),a("wtp-feed",{attrs:{"current-city":t.weatherCity,"current-temp":t.weather.current,"current-weather":t.weather.currentWeatherDescription,"current-temp-max":t.weather.currentDayMax,"current-temp-min":t.weather.currentDayMin,"current-weather-icon":t.weather.currentWeatherIcon}}),a("wtp-footer",{attrs:{weather:t.weather.array}})]],2)},m=[],f=(a("96cf"),a("1da1")),g=a("5530"),v=a("ebf4"),y=a("ade3"),_={location:{latitude:"54.687157",longitude:"25.279652"},gettingLocation:!1,errorStr:null,available:!0},b={getGeolocationStart:"[geolocation] Get geolocation start",getGeolocationSuccess:"[geolocation] Get geolocation success",getGeolocationFailure:"[geolocation] Get geolocation failure",checkGeolocationAvailability:"[geolocation] Check availability"},w={getGeolocation:"[geolocation]: Get geolocation"},C={getterLocation:"[geolocation] Getter"},x=(n={},Object(y["a"])(n,b.getGeolocationStart,(function(){})),Object(y["a"])(n,b.getGeolocationSuccess,(function(t,e){t.location=e,t.gettingLocation=!0})),Object(y["a"])(n,b.getGeolocationFailure,(function(t,e){t.error=e,t.gettingLocation=!1})),Object(y["a"])(n,b.checkGeolocationAvailability,(function(t){t.available=!1})),n),W=Object(y["a"])({},w.getGeolocation,(function(t){"geolocation"in navigator?(t.commit(b.getGeolocationStart),navigator.geolocation.getCurrentPosition((function(e){t.commit(b.getGeolocationSuccess,e.coords)}),(function(e){t.commit(b.getGeolocationFailure,e.message)}))):t.commit(b.checkGeolocationAvailability)})),S=Object(y["a"])({},C.getterLocation,(function(t){return t.location})),O={state:_,mutations:x,actions:W,getters:S},j=a("2f62"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feed"},[a("div",{staticClass:"feed__upper"},[a("div",{staticClass:"feed__upper-left"},[t._v("Day Forecast")]),a("div",{staticClass:"feed__upper-right"},[a("span",{staticClass:"upper__right-item-max"},[t._v(" "+t._s(t.currentTempMax)+" ")]),a("span",{staticClass:"upper__right-item-min"},[t._v(" "+t._s(t.currentTempMin)+" ")])])]),a("div",{staticClass:"feed__main"},[a("span",{staticClass:"main__item-temp"},[t._v(t._s(t.currentTemp)+"Â° ")]),a("span",{staticClass:"main__item-city"},[t._v(t._s(t.currentCity))]),a("div",{staticClass:"main__item-weather-block"},[a("span",{staticClass:"main__item-weather-block-weather"},[t._v(t._s(t.capitalizeCurrentWeather))]),a("wtp-img-weather",{staticClass:"main__item-weather-block-img",attrs:{"weather-img":t.currentWeatherIcon}})],1)]),t._m(0)])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feed__bottom"},[a("span",[t._v("Week Forecast")])])}],G=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{attrs:{src:t.getIcon,alt:""}})}),k=[],I={name:"WtpImgWeather",props:{weatherImg:{type:String,required:!0}},computed:{getIcon:function(){return"http://openweathermap.org/img/wn/".concat(this.weatherImg,"@2x.png")}}},E=I,L=Object(u["a"])(E,G,k,!1,null,"604ca490",null),T=L.exports,D={components:{WtpImgWeather:T},name:"WtpFeed",props:{currentTemp:{type:String,required:!0},currentTempMin:{type:String,required:!0},currentTempMax:{type:String,required:!0},currentCity:{type:String,required:!0},currentWeather:{type:String,required:!0},currentWeatherIcon:{type:String,required:!0}},computed:{capitalizeCurrentWeather:function(){return this.currentWeather.charAt(0).toUpperCase()+this.currentWeather.slice(1)}}},A=D,$=(a("0457"),Object(u["a"])(A,F,M,!1,null,"71474d17",null)),q=$.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header__wrapper"},[a("header",{staticClass:"header"},[t.isSubmitted?a("span",{staticClass:"header__item",on:{click:t.onClick}},[t._v("Done")]):a("img",{staticClass:"header__img",attrs:{src:t.download,alt:""},on:{click:t.onClick}}),a("div",{staticClass:"header__container"},[a("div",{staticClass:"header__container-title"},[t.isSubmitted?a("span",[t._v("Weather forecast")]):a("span",[t._v("Location")])]),a("div",{staticClass:"header__container-city"},[t._v(t._s(t.currentCity))])]),a("img",{staticClass:"header__img",attrs:{src:t.settings,alt:""},on:{click:t.resetWeather}})]),t.start?a("wtp-search-menu",{attrs:{"is-submitted":t.isSubmitted}}):t._e()],1)},B=[],N=(a("d3b7"),a("6369")),R=a.n(N),z=a("e9b0"),H=a.n(z),U=function(){return a.e("chunk-04f13b21").then(a.bind(null,"e9fe"))},J={name:"WtpTopBar",components:{WtpSearchMenu:U},props:{currentCity:{type:String,required:!0}},data:function(){return{isSubmitted:!1,settings:H.a,download:R.a,start:!1}},methods:{onClick:function(){this.isSubmitted=!this.isSubmitted},resetWeather:function(){this.$emit("onResetWeather")}},mounted:function(){this.start=!0}},K=J,Q=(a("cc47"),Object(u["a"])(K,P,B,!1,null,"283c74db",null)),V=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer__wrapper"},[a("div",{staticClass:"footer__content"},t._l(t.weather,(function(e,n){return a("div",{key:n,staticClass:"footer__item"},[a("div",{staticClass:"footer_item_wrapper"},[a("div",{staticClass:"footer__item-day"},[t._v(" "+t._s(t._f("date")(e.date)))]),a("wtp-img-weather",{staticClass:"footer__item-img",attrs:{"weather-img":e.weatherIcon}}),a("div",[a("span",{staticClass:"footer__item-temp-max"},[t._v(t._s(e.dayMax))]),a("span",{staticClass:"footer__item-temp-min"},[t._v(t._s(e.dayMin))])])],1)])})),0),a("div",{staticClass:"footer__graph"},[a("wtp-graph",{attrs:{graph:t.createArray}})],1)])},Y=[],Z=(a("4160"),a("07ac"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"graph"},t._l(t.normalizeGraph,(function(t,e){return a("div",{key:e,staticClass:"graph__item",style:{height:t+"%"}})})),0)}),tt=[],et=(a("d81d"),a("2909")),at={name:"WtpGraph",props:{graph:{required:!0}},computed:{normalizeGraph:function(){var t=Math.max.apply(Math,Object(et["a"])(this.graph)),e=Math.min.apply(Math,Object(et["a"])(this.graph));return this.graph.map((function(a){return 20+80*(a-e)/(t-e)}))}}},nt=at,rt=(a("732a"),Object(u["a"])(nt,Z,tt,!1,null,"47994862",null)),it=rt.exports,ot={name:"WtpFooter",components:{WtpImgWeather:T,WtpGraph:it},props:{weather:{required:!0}},computed:{createArray:function(){var t=Object.values(this.weather),e=[];return t.forEach((function(t){Array.prototype.push.apply(e,[t.dayMax,t.dayMin])})),e}}},ct=ot,lt=(a("dd81"),Object(u["a"])(ct,X,Y,!1,null,"375bd41d",null)),ut=lt.exports,st={name:"WtpGlobalFeed",components:{WtpFooter:ut,WtpTopBar:V,WtpFeed:q},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(j["c"])({weatherCity:function(t){return t.weather.city}})),Object(j["b"])({location:C.getterLocation,weather:v["c"].getWeatherFiltered})),{},{checkCurrentCity:function(){return this.weatherCity}}),mounted:function(){setTimeout(this.getData,10)},created:function(){this.$store.dispatch(w.getGeolocation)},watch:{checkLocation:function(){this.getData()},checkCurrentCity:function(){this.$router.push({name:"Home",params:{slug:this.weatherCity}})}},methods:{getData:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.$store.dispatch(v["a"].getWeather,{lat:t.location.latitude,lon:t.location.longitude}),e.next=3,t.$store.dispatch(v["a"].getCity,{lat:t.location.latitude,lon:t.location.longitude});case 3:e.t1=e.sent,e.t0.then.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})))()}}},dt=st,ht=(a("16b6"),Object(u["a"])(dt,p,m,!1,null,null,null)),pt=ht.exports;r["a"].use(h["a"]);var mt=[{path:"/:slug",name:"Home",component:pt},{path:"*",redirect:{name:"Home"}}],ft=new h["a"]({routes:mt}),gt=ft;r["a"].use(j["a"]);var vt=new j["a"].Store({state:{},mutations:{},actions:{},modules:{weather:v["b"],geolocation:O}}),yt=a("b166"),_t=a("4602"),bt=function(t){return Object(yt["a"])(new Date(Object(_t["a"])(t)),"E").toUpperCase()};a("a4fa");r["a"].config.productionTip=!1,r["a"].filter("date",bt),new r["a"]({router:gt,store:vt,render:function(t){return t(d)}}).$mount("#app")},6369:function(t,e,a){t.exports=a.p+"img/download.b3b80a57.svg"},"732a":function(t,e,a){"use strict";a("40e5")},"97b6":function(t,e,a){},a4fa:function(t,e,a){},ba11:function(t,e,a){},cc47:function(t,e,a){"use strict";a("ba11")},dd81:function(t,e,a){"use strict";a("97b6")},def6:function(t,e,a){},e9b0:function(t,e,a){t.exports=a.p+"img/settings.ea4bda53.svg"},ebf4:function(t,e,a){"use strict";a.d(e,"a",(function(){return f})),a.d(e,"c",(function(){return g}));a("a4d3"),a("e01a"),a("b0c0"),a("b680"),a("d3b7");var n=a("ade3"),r=(a("99af"),a("bc3a")),i=a.n(r);i.a.defaults.baseURL="https://api.openweathermap.org/data/2.5",i.a.defaults.params={},i.a.defaults.params["appid"]="78e8aa5a6516eef21926f6ccc13595b0";var o,c,l=i.a,u=function(t,e){return l.get("/onecall?lat=".concat(t,"&lon=").concat(e,"&exclude=minutely,hourly&units=metric")).then((function(t){return t.data}))},s=function(t,e){return l.get("weather?lat=".concat(t,"&lon=").concat(e)).then((function(t){return t.data}))},d=function(t){return l.get("weather?q=".concat(t)).then((function(t){return t.data}))},h={getWeather:u,getCity:s,getCityByName:d},p={data:null,isLoading:!1,error:null,city:null,coord:null},m={getWeatherStart:"[weather] Get weather start",getWeatherSuccess:"[weather] Get weather success",getWeatherFailure:"[weather] Get weather failure",getCityStart:"[weather] Get city start",getCitySuccess:"[weather] Get city success",getCityFailure:"[weather] Get city failure"},f={getWeather:"[weather]: Get weather",getCity:"[weather] Get  city"},g={getWeatherFiltered:"[weather]: Get weather filtered"},v=(o={},Object(n["a"])(o,m.getWeatherStart,(function(t){t.isLoading=!0,t.data=null})),Object(n["a"])(o,m.getWeatherSuccess,(function(t,e){t.isLoading=!1,t.data=e})),Object(n["a"])(o,m.getWeatherFailure,(function(t){t.isLoading=!1})),Object(n["a"])(o,m.getCityStart,(function(t){t.city=null,t.coord=null})),Object(n["a"])(o,m.getCitySuccess,(function(t,e){t.city=e.name,t.coord=e.coord})),Object(n["a"])(o,m.getCityFailure,(function(){})),o),y=(c={},Object(n["a"])(c,f.getWeather,(function(t,e){var a=e.lat,n=e.lon;return new Promise((function(e){t.commit(m.getWeatherStart),h.getWeather(a,n).then((function(a){t.commit(m.getWeatherSuccess,a),e(a)})).catch((function(e){t.commit(m.getWeatherFailure),console.log(e)}))}))})),Object(n["a"])(c,f.getCity,(function(t,e){var a=e.slug,n=e.lat,r=e.lon;return new Promise((function(e){t.commit(m.getCityStart),a?h.getCityByName(a).then((function(a){t.commit(m.getCitySuccess,a),e(a),h.getWeather(a.coord.lat,a.coord.lon).then((function(a){t.commit(m.getWeatherSuccess,a),e(a)})).catch((function(e){t.commit(m.getWeatherFailure),console.log(e)}))})).catch((function(e){t.commit(m.getWeatherFailure),console.log(e)})):h.getCity(n,r).then((function(a){t.commit(m.getCitySuccess,a),e(a)})).catch((function(e){t.commit(m.getWeatherFailure),console.log(e)}))}))})),c),_=Object(n["a"])({},g.getWeatherFiltered,(function(t){var e,a,n,r,i,o,c,l,u,s,d,h,p,m,f,g,v,y,_,b,w,C,x,W,S,O,j,F,M,G,k,I,E;return{currentWeatherDescription:null===(e=t.data)||void 0===e?void 0:e.current.weather[0].description,currentWeatherIcon:null===(a=t.data)||void 0===a?void 0:a.current.weather[0].icon,current:null===(n=t.data)||void 0===n?void 0:n.current.temp.toFixed(),currentDayMin:null===(r=t.data)||void 0===r?void 0:r.daily[0].temp.min.toFixed(),currentDayMax:null===(i=t.data)||void 0===i?void 0:i.daily[0].temp.max.toFixed(),array:{0:{dayMin:null===(o=t.data)||void 0===o?void 0:o.daily[1].temp.min.toFixed(),dayMax:null===(c=t.data)||void 0===c?void 0:c.daily[1].temp.max.toFixed(),weatherIcon:null===(l=t.data)||void 0===l?void 0:l.daily[1].weather[0].icon,date:null===(u=t.data)||void 0===u?void 0:u.daily[1].dt},1:{dayMin:null===(s=t.data)||void 0===s?void 0:s.daily[2].temp.min.toFixed(),dayMax:null===(d=t.data)||void 0===d?void 0:d.daily[2].temp.max.toFixed(),weatherIcon:null===(h=t.data)||void 0===h?void 0:h.daily[2].weather[0].icon,date:null===(p=t.data)||void 0===p?void 0:p.daily[2].dt},2:{dayMin:null===(m=t.data)||void 0===m?void 0:m.daily[3].temp.min.toFixed(),dayMax:null===(f=t.data)||void 0===f?void 0:f.daily[3].temp.max.toFixed(),weatherIcon:null===(g=t.data)||void 0===g?void 0:g.daily[3].weather[0].icon,date:null===(v=t.data)||void 0===v?void 0:v.daily[3].dt},3:{dayMin:null===(y=t.data)||void 0===y?void 0:y.daily[4].temp.min.toFixed(),dayMax:null===(_=t.data)||void 0===_?void 0:_.daily[4].temp.max.toFixed(),weatherIcon:null===(b=t.data)||void 0===b?void 0:b.daily[4].weather[0].icon,date:null===(w=t.data)||void 0===w?void 0:w.daily[4].dt},4:{dayMin:null===(C=t.data)||void 0===C?void 0:C.daily[5].temp.min.toFixed(),dayMax:null===(x=t.data)||void 0===x?void 0:x.daily[5].temp.max.toFixed(),weatherIcon:null===(W=t.data)||void 0===W?void 0:W.daily[5].weather[0].icon,date:null===(S=t.data)||void 0===S?void 0:S.daily[5].dt},5:{dayMin:null===(O=t.data)||void 0===O?void 0:O.daily[6].temp.min.toFixed(),dayMax:null===(j=t.data)||void 0===j?void 0:j.daily[6].temp.max.toFixed(),weatherIcon:null===(F=t.data)||void 0===F?void 0:F.daily[6].weather[0].icon,date:null===(M=t.data)||void 0===M?void 0:M.daily[6].dt},6:{dayMin:null===(G=t.data)||void 0===G?void 0:G.daily[7].temp.min.toFixed(),dayMax:null===(k=t.data)||void 0===k?void 0:k.daily[7].temp.max.toFixed(),weatherIcon:null===(I=t.data)||void 0===I?void 0:I.daily[7].weather[0].icon,date:null===(E=t.data)||void 0===E?void 0:E.daily[7].dt}}}}));e["b"]={state:p,mutations:v,actions:y,getters:_}}});
//# sourceMappingURL=app.b4272d58.js.map